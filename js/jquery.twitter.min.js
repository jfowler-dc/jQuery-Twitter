/*! jQuery Twitter v2.0.1 | Copyright (c) 2012 Leonardo Santos | Dual licensed under the MIT and GPL licenses */
(function(g){var r=g,b={},e=window,j=e.document,d;b.disabled=!1;b.set=function(){};b.get=function(){};b.remove=function(){};b.clear=function(){};b.transact=function(c,f){var d=b.get(c);"undefined"==typeof d&&(d={});f(d);b.set(c,d)};b.serialize=function(c){return JSON.stringify(c)};b.deserialize=function(c){return"string"!=typeof c?void 0:JSON.parse(c)};var h;try{h="localStorage"in e&&e.localStorage}catch(s){h=!1}if(h)d=e.localStorage,b.set=function(c,f){d.setItem(c,b.serialize(f))},b.get=function(c){return b.deserialize(d.getItem(c))},b.remove=function(c){d.removeItem(c)},b.clear=function(){d.clear()};else{var k;try{k="globalStorage"in e&&e.globalStorage&&e.globalStorage[e.location.hostname]}catch(t){k=!1}k?(d=e.globalStorage[e.location.hostname],b.set=function(c,f){d[c]=b.serialize(f)},b.get=function(c){return b.deserialize(d[c]&&d[c].value)},b.remove=function(c){delete d[c]},b.clear=function(){for(var c in d)delete d[c]}):j.documentElement.addBehavior?(d=j.createElement("div"),e=function(c){return function(){var f=Array.prototype.slice.call(arguments,0);f.unshift(d);j.body.appendChild(d);d.addBehavior("#default#userData");d.load("localStorage");f=c.apply(b,f);j.body.removeChild(d);return f}},b.set=e(function(c,f,d){c.setAttribute(f,b.serialize(d));c.save("localStorage")}),b.get=e(function(c,d){return b.deserialize(c.getAttribute(d))}),b.remove=e(function(c,b){c.removeAttribute(b);c.save("localStorage")}),b.clear=e(function(c){var b=c.XMLDocument.documentElement.attributes;c.load("localStorage");for(var d=0,e;e=b[d];d++)c.removeAttribute(e.name);c.save("localStorage")})):b.disabled=!0}r.store=b;g.twitter=function(c,b,d,e){function j(c,b){return'<a href="'+b+'" target="_blank">'+c+"</a>"}function h(c){g.each(c,function(b,d){var e=new Date(d.created_at.replace(/\+0+/,"UTC")),f=Math.round((+m-+e)/6E4),h=e.getMinutes(),n=c[0].user,q=n.screen_name;l.profile={screen_name:q,followers:n.followers_count,avatar:n.profile_image_url};l.length=b+1;var e=i.timeSpan?60>f?0==f?i.less_than_a_min:i.timespan_format(f,0):1440>f?i.timespan_format(Math.floor(f/60),1):i.timespan_format(Math.floor(f/1440),2):i.time_format(e.getDate(),e.getMonth(),e.getFullYear(),e.getHours(),h),f=l,p=d.text;g.each(d.entities.urls,function(c,b){p=p.replace(b.url,j(b.display_url,b.expanded_url))});h=p.replace(/\B[@#]\w+/g,function(b){return j(b,"//"+k+(b[a="search"]("#")?"":a+"?q=%23")+b.substring(1))});f[b]={text:h,time:e,link:"//"+k+q+"/statuses/"+d.id_str}});g.isFunction(d)&&d.call(this,l)}if(c&&b){g.isFunction(b)&&(d=b,b=1);var i=g.extend({timeSpan:!0,exclude_replies:!0,time_format:function(b,c,d,e,f){return"January February March April May June July August September October November December".split(" ")[c]+" "+b+", "+d+" at "+e+"h"+("0"+f).slice(-2)},timespan_format:function(b,c){return b+" "+["minute","hour","day"][c]+(1<b?"s":"")+" ago"},less_than_a_min:"less than a minute ago",cache_timeout:5},e),k="twitter.com/",l={},e=g.store.get("tweets_"+c),m=new Date;e&&(+m-e[0])/6E4<i.cache_timeout?h(e[1]):g.getJSON("//api."+k+"1/statuses/user_timeline.json?count="+b+"&include_entities=1&exclude_replies="+i.exclude_replies+"&include_rts=1&callback=?&screen_name="+c,function(b){g.store.set("tweets_"+c,[+m,b]);h(b)})}}})(jQuery);