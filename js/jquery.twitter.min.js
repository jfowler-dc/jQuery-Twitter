/*! jQuery Twitter 1.2 | Copyright (c) 2012 Leonardo Santos | Dual licensed under the MIT and GPL licenses */
(function(e,l){var n=function(b){var c=b.text;e.each(b.entities.urls,function(i,b){c=c.replace(b.url,b.display_url.linkfy(b.expanded_url))});return c.replace(/\B[@#]\w+/g,function(b){return b.linkfy("//twitter.com/"+(b[a="search"]("#")?"":a+"?q=%23")+b.substring(1))})},k=profile={};String.prototype.linkfy=function(b){return'<a href="%0" target="_blank">%1</a>'.format(b,this)};String.prototype.format=function(){for(var b=this,c=arguments,i=c.length;i--;)b=b.replace(RegExp("%"+i,"g"),c[i]);return b};e.twitter=function(b,c,i,m){var f=e.extend({timeSpan:!0,exclude_replies:!0,time_format:"%1 %0, %2 at %3",less_than_a_min:"less than a minute ago",timespan_format:"%0 %1 ago",i18n_time:["minute","hour","day"],i18n_months:"January February March April May June July August September October November December".split(" ")},m);b===l||c===l||(e.isFunction(c)&&(i=c,c=1),e.getJSON("//api.%01/statuses/user_timeline.json?count=%1&include_entities=1&exclude_replies=%2&screen_name=%3&callback=?".format("twitter.com/",c,f.exclude_replies,b),function(b){e.each(b,function(c,i){var g=new Date(b[c].created_at.replace(/\+0+/,"")),j=new Date,e=j.getTimezoneOffset()*6E4,j=Math.round((+j-+g+e)/6E4),e=g.getMinutes();if(f.timeSpan)if(j<60)g=j===0?f.less_than_a_min:f.timespan_format.format(j,f.i18n_time[0]+(j>1?"s":""));else if(j<1440){h=Math.floor(j/60);g=f.timespan_format.format(h,f.i18n_time[1]+(h>1?"s":""))}else{d=Math.floor(j/1440);g=f.timespan_format.format(d,f.i18n_time[2]+(d>1?"s":""))}else g=f.time_format.format(g.getDate(),f.i18n_months[g.getMonth()],g.getFullYear(),g.getHours()+"h"+(e?(e<10?"0":"")+e:""));k[c]={text:n(i),time:g};k.length=c});var c=b[0].user;k.profile={screen_name:c.screen_name,followers:c.followers_count,avatar:c.profile_image_url};e.isFunction(i)&&i.call(this,k)}))}})(jQuery);